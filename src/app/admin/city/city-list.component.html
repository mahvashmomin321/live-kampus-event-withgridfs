<div class="container">
    <h2 class="cheader">
        City List
    </h2>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addCity">Add City</button>
    <table class="table table-bordered city-table">
        <thead class="thead-light">
            <tr>
                <th>City Code</th>
                <th>City Name</th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody *ngFor="let city of cities">
            <tr>
                <td>{{city.cityId}}</td>
                <td>{{city.cityName}}</td>
                <td>
                    <button type="button" class="btn btn-primary view-btn" data-toggle="modal"
                    (click)="viewbtn(city.cityId)" data-target="#viewModal">View</button>
                </td>
                <td>
                    <button type="button" class="btn btn-primary edit-btn" (click)="editbtn(city.cityId)" data-toggle="modal" data-target="#editModal">Edit</button>
                </td>
                <td>
                    <!-- <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round"></span>
                    </label> -->
                    <button type="button" class="btn btn-primary del"  (click)="deleteCity(city)">Delete</button>
                    
                </td>
            </tr>
        </tbody>
    </table>
    
    <!-- City Details -->
    <div class="modal fade" id="viewModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">City Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <tbody >
                            <tr>
                                <td>City Code</td>
                                <td>{{city.cityId}}</td>
                            </tr>
                            <tr>
                                <td>City Name</td>
                                <td>{{city.cityName}}</td>
                            </tr>
                            <tr>
                                <td>state</td>
                                <td>{{city.cityState}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
        </div>
    </div>
    
    <!-- Edit City -->
    <div class="modal fade" id="editModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit City</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form (ngSubmit)="updateCity()" #CityForm="ngForm">
                        <div class="form-group">
                            <label for="cityc" class="form-label">City Code</label>
                            <input type="text" class="form-control" id="cityc" [(ngModel)]="city.cityId" name="city_id" value="{{city.cityId}}">
                        </div>
                        <div class="form-group">
                            <label for="cityn" class="form-label">City Name</label>
                            <input type="text" class="form-control" id="cityn" [(ngModel)]="city.cityName" name="city_name">
                        </div>
                        <div class="form-group">
                            <label for="citys" class="form-label">State</label>
                            <input type="text" class="form-control" id="citys" [(ngModel)]="city.cityState" name="city_state">
                        </div>
                        <button type="submit" class="btn btn-primary">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="addCity" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add City</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form (ngSubmit)="addCity()" #CityForm="ngForm">
                        <div class="form-group">
                            <label for="cityc" class="form-label">City Code</label>
                            <input type="text" class="form-control" id="cityc" [(ngModel)]="city.cityId" name="city_id">
                        </div>
                        <div class="form-group">
                            <label for="cityn" class="form-label">City Name</label>
                            <input type="text" class="form-control" id="cityn" [(ngModel)]="city.cityName" name="city_name">
                        </div>
                        <div class="form-group">
                            <label for="citys" class="form-label">State</label>
                            <input type="text" class="form-control" id="citys" [(ngModel)]="city.cityState" name="city_state">
                        </div>
                        <button type="submit" class="btn btn-primary">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
</div>